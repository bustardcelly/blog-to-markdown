
	
	<h1 class="entry-title full-title"><a href="http://custardbelly.com/blog/2006/03/26/particle-pixel-collision/" title="Permanent link to Particle Pixel Collision" rel="bookmark" rev="post-40">Particle Pixel Collision</a></h1>
	
	<div class="entry-content full-content">
		<p><a href="javascript:MM_openBrWindow('http://www.custardbelly.com/blog/insets/ppColl.html','strip','resizable=no,width=250,height=130');"><img src="http://www.custardbelly.com/blog/images/ring.gif" alt="click me"></a></p>
<p>Well, i said i was gonna get into switching action policies for the user-controlled sprite, but i thought it might be cool if i gave a visual clue if the sprite was disabled ( unable to switch actions ). Then i thought, ‘What better clue than a ring of stars around its head?’. Created a rotating-ring particle system. Done…<br>
Damn… It rotates, but not around the sprite. I’ve been placing particle systems in their own movieclip – somtimes behind, sometimes atop the sprite… I wasn’t rendering everything in a ‘world’ view with z-buffering, because everything was 2d and i thought ‘…just layer it, jerk’.  i still do.</p>
<p>Let’s see… do i throw a particle system in with the sprite class and swap depths based on z position of particles? No i just want a sprite to be a sprite and not worry about managing anything. Should i have a special particle system that sandwiches movieclips around the emission node, then create and dipose based on z-position? Now with AS3, i could fashion something like that because of the DisplayList ( as <a href="http://blog.pixelconsumption.com/">Sam</a> so <a href="http://www.bfpug.com/?p=19">eloquiantly showed</a>… though i he didn’t strip off an article clothing after every audience question – which was promised ), but in AS2 that would just be too confusing.</p>
<p>So i went back to my <a href="http://custardbelly.com/blog/?p=28">PixelCollision class</a> and decided to poke around. Well, i did… and royally screwed up that code (that’s what svn is for!), but came out with a nice solution for replacing pixels in one bitmapdata object based on non-alpha collisions.</p>
<p>In the movie link above you can see what’s happening (well kind of, i made it too small i think). It’s actually a rotating-ring system in a layer above the sprite, and it’s applying alpha transparency to the stars based on collision – and/or also pixel replacement of sprite if you click on the stage (that’s my favorite part). It’s a shame it gets a little skippish in a browser, i’ll have to do a little cleaning and see what happens.</p>
		<div class="clear"></div>
	</div><!-- .entry-content-->
	
	<p class="filed categories alt-font tight">Posted in <a href="http://custardbelly.com/blog/category/flash/" title="View all posts in Flash" rel="category tag">Flash</a>,  <a href="http://custardbelly.com/blog/category/flash8/" title="View all posts in Flash8" rel="category tag">Flash8</a>.</p>
	
	

	<p class="by-line">
		<span class="author vcard full-author">
			<span class="by alt-font">By</span> <a class="url fn" href="http://custardbelly.com/blog/author/todd-anderson/" title="View all posts by todd anderson">todd anderson</a>		</span>
		<span class="date full-date"><span class="ndash alt-font">–</span> <abbr class="published" title="2006-03-26T21:32">March 26, 2006</abbr></span>
	</p><!--/by-line-->

	<div id="post-comments-40-target"></div>
	<div class="clear"></div>
	
	